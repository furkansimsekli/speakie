{% if is_solved %}
    <h2><i class="bi bi-check-circle text-success"></i> {{ sp.title }}</h2>
{% else %}
    <h2><i class="bi bi-circle"></i> {{ sp.title }}</h2>
{% endif %}
<hr>

<p>{{ sp.paragraph }}</p>
{% if sp.difficulty == 1 %}
    <p>Difficulty: Easy</p>
{% elif sp.difficulty == 2 %}
    <p>Difficulty: Intermediate</p>
{% elif sp.difficulty == 3 %}
    <p>Difficulty: Hard</p>
{% endif %}

<form action="{% url 'sp' sp.course.slug sp.slug %}" method="POST" enctype="multipart/form-data">
    {% csrf_token %}

    <div class="form-outline mb-4">
        <input type="file" id="answer" name="answer" class="form-control" accept="audio/*"/>
        <label class="form-label" for="answer">Upload audio file</label>
    </div>

    <button type="submit" class="btn btn-primary btn-block mb-4">Submit</button>
</form>

{% if prev_sp %}
    <button id="prev-button" class="btn btn-primary mb-4">Previous</button>
{% else %}
    <button class="btn btn-primary mb-4" disabled>Previous</button>
{% endif %}

{% if next_sp %}
    <button id="next-button" class="btn btn-primary mb-4">Next</button>
{% else %}
    <button class="btn btn-primary mb-4" disabled>Next</button>
{% endif %}

<script>
    $(document).off("click", "#prev-button");
    $(document).off("click", "#next-button");

    {% if prev_sp %}
        $(document).on("click", "#prev-button", function () {
            let prevUrl = "{% url 'sp' course_slug=course_slug sp_slug=prev_sp.slug %}api/";
            loadPageContent(prevUrl);
        });
    {% endif %}

    {% if next_sp %}
        $(document).on("click", "#next-button", function () {
            let nextUrl = "{% url 'sp' course_slug=course_slug sp_slug=next_sp.slug %}api/";
            loadPageContent(nextUrl);
        });
    {% endif %}
</script>